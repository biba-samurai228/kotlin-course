---
sidebar_position: 6
id: standart_functions
---
# Встроенные функции в Kotlin
Что ж, мы рассмотрели базис, на котором уже может строиться программа.
Ранее, мы уже рассматривали одну из встроенных функций — `println`. Данная функция печатала в консоль текст, который мы ей задавали. Давайте рассмотрим и другие.
Перейдём к задаче: нам нужно написать программу, что будем перемножать введённые пользователем цифры. Довольно просто.
Для этого нам понадобиться функция `readln`, что читает пользовательский ввод с консоли.
Т.е, у нас будет что-то типа:
```kotlin
fun main() {
	val number1: Int = readln()
	val number2: Int = readln()
	println(number1 * number2)
}
```
Вот и вся программа! Но, попытавшись её запустить, мы получим ошибку:
```
Type mismatch: inferred type is String but Int was expected
```
Переведя на русский язык мы получим следующее:
`Несоответствие типов: предполагаемый тип — String, но ожидался Int.`
Что же это значит? Это значит, что нашим переменным `number1` и `number2` типа `Int` (целые числа) присваивается несоответствующий тип `String` (строка, aka обычный сырой текст).
Увы, так как ввод пользователя может быть любым: от цифр, до букв и других символов, функция `readln` возвращает тип `String` (строку, что может содержать не только цифры). Чтобы это исправить, мы должны преобразовать строку в целое число (ну правда, желательно, перед этим проверить ввод пользователя).
В Kotlin есть функция `toInt` для строки, что очень упрощает нам жизнь. Она конвертирует строку в цифру путём её парсинга.
```kotlin
fun main() {
	val number1: Int = readln().toInt()
	val number2: Int = readln().toInt()
	println(number1 * number2)
}
```
Подобные функции так же существуют и для других типов-цифр:
- `String.toDouble()`
- `String.toShort()`
- `String.toFloat()`
* `String.toLong()`
  Так же, подобные функции существуют и между числами. Например, целое число может превращаться в число с плавающей точкой (aka с запятой, типа `Double`).
  Для чего это нужно? Ну например, вам нужно сложить одно целое число и одно число с плавающей точкой. Так как Kotlin — это строго-типизированный язык, просто так сложить цифры разных типов не получится. В зависимости от того, что вам нужно, вы можете привести число с плавающей точкой в целое и наоборот.
```kotlin
val x = readln().toInt()
val y = readln().toDouble()
val double: Double = x.toDouble() + y
println(double)
val integer: Int = x + y.toInt()
println(integer)
```
Вообще, если вы попробуете сложить `x + y` без преобразований, Kotlin автоматически будет выводить тип `Double`. Но, под капотом, делается то, что мы только что рассмотрели. Но подобное работает только с числами.
```kotlin
val x = readln().toInt()
val y = readln().toDouble()
val result: Double = x + y
println(result)
```
Кстати, функция `println` так же выводит строку в консоль. А мы ей отдаём число. Почему для неё таких ограничений нет?
Всё просто: функция `println` принимает «Any» (т.е любой тип данных) и неявно вызывает на этом типе `toString()` (такая же встроенная функция в язык, что применяется на любой созданный объект), что возвращает строку с нашей цифрой.
Внутри там что-то подобное:
```kotlin
fun println(value: Any) {
	val string: String = value.toString()
	// ...
}
```
Какие ещё интересные функции существуют?
Давайте, решим следующую задачу, заодно вспомним про условные операторы:

$$
f(x) =\left\{
\begin{array}{ c l }
3x & \quad \textrm{если } x < 0
\\
x^{5} & \quad \textrm{если } x \geq 1   
\le 100
\\
1                 & \quad \textrm{в ином случае}
\end{array}
\right.
$$

И тут мы видим степень! Что же, зная, что такое степень, несложно решить данную задачу.
*Я предпочитаю для более чем двух веток с условиями, использовать `when`.*
```kotlin
fun f(x: Double) {
	return when {
		x < 0 -> 3 * x
		x >= 1 && x <= 100 -> x * x * x * x * x
		else -> 1 
	}
}
``` 
И наша задача решена! Но, раз мы говорим о встроенных функциях, то наверное есть какое-то упрощение?
Да, есть. Это функция `pow`.
```kotlin
fun f(x: Double) {
	return when {
		x < 0 -> 3 * x
		x >= 1 && x <= 100 -> x.pow(5)
		else -> sqrt(x)
	}
}
```
Очень даже удобно! Особенно, если у нас произвольная степень.
Давайте же выведем результат в консоль:
```kotlin
fun main() {
	val input: Double = readln().toDouble()
	val output: String = f(input).toString()
	println(output)
}
```
Вроде не сложно, не так ли? Заодно закрепили другие встроенные функции.
Подобных функций довольно много, так что мы будем их рассматривать во время прохождения других тем.