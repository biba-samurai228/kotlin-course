---
sidebar_position: 6
id: standart_functions
---
# Стандартні функції в Kotlin
Що ж, ми розглянули ґрунт, на якому вже може будуватися програма.
Раніше ми вже розглядали одну з вбудованих функцій — `println`. Ця функція друкувала в наш термінал (консоль) текст, який ми їй задавали. 
Розгляньмо й інші.
Перейдемо до завдання: нам потрібно написати програму, що буде перемножувати введені користувачем цифри. Досить просто.
Для цього нам знадобиться функція `readln`, що читає введення користувача з консолі.
Тобто, у нас буде щось на кшталт:
```kotlin
fun main() {
	val number1: Int = readln()
	val number2: Int = readln()
	println(number1 * number2)
}
```
Ось і вся програма! Але, спробувавши її запустити, ми отримаємо помилку:
```kotlin
Type mismatch: inferred type is String but Int was expected
```
Переклавши на українську мову ми отримаємо наступне:
`Невідповідність типів: передбачуваний тип - String, але очікувався Int.`
Що це означає? Це означає, що нашим змінним `number1` та `number2` типу `Int` (цілі числа) задається невідповідний тип `String` (рядок, aka звичайний сирий текст).
На жаль, оскільки введення користувача може бути будь-яким: від цифр, до літер та будь-яких інших символів, функція `readln` повертає тип `String` (рядок, що може містити не тільки цифри). Щоб це виправити, ми повинні перетворити рядок на ціле число (ну правда, бажано, перед цим перевірити введення користувача).
У Kotlin є функція `toInt()` для рядків (aka тексту), що дуже полегшує нам життя. Вона конвертує рядок у цифру.
```kotlin
fun main() {
	val number1: Int = readln().toInt()
	val number2: Int = readln().toInt()
	println(number1 * number2)
}
```
Подібні функції також існують і для інших типів-чисел:
- `String.toDouble()`
- `String.toShort()`
- `String.toFloat()`
* `String.toLong()`

Також подібні функції існують і між числами. Наприклад, ціле число може перетворюватися на число з плаваючою точкою (aka з комою, типу `Double`).
Для чого це потрібно? Ну, наприклад, вам потрібно скласти одне ціле число й одне число з плаваючою точкою. 
Оскільки Kotlin - це строго-типізована мова, просто так скласти цифри різних типів не вийде. Залежно від того, що вам потрібно, ви можете привести число з плаваючою точкою в ціле і навпаки.
```kotlin
val x = readln().toInt()
val y = readln().toDouble()
val double: Double = x.toDouble() + y
println(double)
val integer: Int = x + y.toInt()
println(integer)
```
Взагалі, якщо ви спробуєте скласти `x+y` без перетворень, Kotlin автоматично виводитиме тип `Double`. Але, під капотом, робиться те, що ми щойно розглянули. Але подібне працює лише з числами.
```kotlin
val x = readln().toInt()
val y = readln().toDouble()
val result: Double = x + y
println(result)
```
До речі, функція `println` також виводить рядок у консоль. А ми їй віддаємо число. Чому для неї таких обмежень немає?
Все просто: функція `println` приймає "Any" (тобто будь-який тип даних) і неявно викликає на цьому типі `toString()` (така ж вбудована функція в мову, що застосовується на будь-який створений об'єкт), що повертає рядок з нашою цифрою.
Усередині там щось подібне:
```kotlin
fun println(value: Any) {
	val string: String = value.toString()
	// ...
}
```
Які ще цікаві функції існують?
Давайте, вирішимо наступне завдання, заодно згадавши про умовні оператори:
$$
f(x) =\left\{ 
  \begin{array}{ c l }
3x & \quad \textrm{якщо } x < 0
\\
    x^{5} & \quad \textrm{якщо } x \geq 1   
\le 100
\\
    1                 & \quad \textrm{інакше}
  \end{array}
\right.
$$
І тут ми бачимо степінь! Що ж, знаючи, що таке степінь, неважко вирішити це завдання.

*Я віддаю перевагу для більш ніж двох гілок з умовами, використовувати `when`.*
```kotlin
fun f(x: Double) {
	return when {
		x < 0 -> 3 * x
		x >= 1 && x <= 100 -> x * x * x * x * x
		else -> 1 
	}
}
``` 
І наше завдання вирішено! Але якщо ми говоримо про вбудовані функції, то напевно є якесь спрощення? Особливо, якщо думати про те, що було б, якщо степінь була б більшою.
Так, спрощення є. Це функція `pow`.
```kotlin
fun f(x: Double) {
	return when {
		x < 0 -> 3 * x
		x >= 1 && x <= 100 -> x.pow(5)
		else -> 1 
	}
}
```
Дуже зручно! Особливо якщо у нас довільний степінь.
Давайте ж виведемо результат у консоль:
```kotlin
fun main() {
	val input: Double = readln().toDouble()
	val output: String = f(input).toString()
	println(output)
}
```
Начебто не складно, чи не так? Заодно закріпили інші вбудовані функції.
Подібних функцій досить багато, тому ми будемо їх розглядати під час проходження інших тем.